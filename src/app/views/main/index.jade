doctype html

block html
    html(ng-app="regidiumApp", lang="{{lang}}")
        block head
            head
                base(href="/")
                - var title = title ? title : "Widget Regidium"
                title(translate)= title
                block meta
                    meta(charset="utf8")
                //- script.
                    //- (function(){'use strict';function d(a){return function(){var c=arguments[0],b,c="["+(a?a+":":"")+c+"] http://errors.angularjs.org/1.2.7/"+(a?a+"/":"")+c;for(b=1;b<arguments.length;b++)c=c+(1==b?"?":"&")+"p"+(b-1)+"="+encodeURIComponent("function"==typeof arguments[b]?arguments[b].toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof arguments[b]?"undefined":"string"!=typeof arguments[b]?JSON.stringify(arguments[b]):arguments[b]);return Error(c)}}(function(a){var c=d("$injector"),b=d("ng");a=a.angular|| (a.angular={});a.$$minErr=a.$$minErr||d;return a.module||(a.module=function(){var a={};return function(e,d,f){if("hasOwnProperty"===e)throw b("badname","module");d&&a.hasOwnProperty(e)&&(a[e]=null);return a[e]||(a[e]=function(){function a(c,d,e){return function(){b[e||"push"]([c,d,arguments]);return g}}if(!d)throw c("nomod",e);var b=[],h=[],k=a("$injector","invoke"),g={_invokeQueue:b,_runBlocks:h,requires:d,name:e,provider:a("$provide","provider"),factory:a("$provide","factory"),service:a("$provide", "service"),value:a("$provide","value"),constant:a("$provide","constant","unshift"),animation:a("$animateProvider","register"),filter:a("$filterProvider","register"),controller:a("$controllerProvider","register"),directive:a("$compileProvider","directive"),config:k,run:function(a){h.push(a);return this}};f&&k(f);return g}())}}())})(window)})(window);
                block base_style
                    link(rel="stylesheet", type='text/css', href="http://fonts.googleapis.com/css?family=Roboto:400,500,700&subset=latin,cyrillic-ext")
                    link(rel="stylesheet", type='text/css', href="/css/app.css")
                block style
        block body_inner
            body.ng-cloak(ng-cloak)
                block body
                    .container
                        div(ng-view)

                block base_script
                    - if (env == 'production')
                        script(src='//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.0/jquery.min.js', type="text/javascript")
                        script(src='//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.6.0/underscore-min.js', type="text/javascript")
                        script(src='//ajax.googleapis.com/ajax/libs/angularjs/1.2.16/angular.min.js', type="text/javascript")
                        script(src='//ajax.googleapis.com/ajax/libs/angularjs/1.2.16/angular-animate.min.js', type="text/javascript")
                        script(src='//ajax.googleapis.com/ajax/libs/angularjs/1.2.16/angular-route.min.js', type="text/javascript")
                        script(src='//ajax.googleapis.com/ajax/libs/angularjs/1.2.16/angular-resource.min.js', type="text/javascript")
                        script(src='//ajax.googleapis.com/ajax/libs/angularjs/1.2.16/angular-cookies.min.js', type="text/javascript")
                    - else
                        script(src='/js/libs/jquery/jquery.min.js', type="text/javascript")
                        script(src='/js/libs/underscore/underscore-min.js', type="text/javascript")
                        script(src='/js/libs/angular/angular.min.js', type="text/javascript")
                        script(src='/js/libs/angular/angular-animate/angular-animate.min.js', type="text/javascript")
                        script(src='/js/libs/angular/angular-route/angular-route.min.js', type="text/javascript")
                        script(src='/js/libs/angular/angular-resource/angular-resource.min.js', type="text/javascript")
                        script(src='/js/libs/angular/angular-cookies/angular-cookies.min.js', type="text/javascript")
                    
                    script(src="http://j.maxmind.com/app/geoip.js", type="text/javascript")
                    script(src="/js/libs/angular/angular-translate/angular-translate.min.js", type="text/javascript")
                    script(src="/js/libs/angular/angular-translate/angular-translate-interpolation-messageformat/angular-translate-interpolation-messageformat.min.js", type="text/javascript")
                    script(src="/js/libs/angular/angular-translate/angular-translate-storage-cookie/angular-translate-storage-cookie.min.js", type="text/javascript")
                    script(src="/js/libs/angular/angular-translate/angular-translate-storage-local/angular-translate-storage-local.min.js", type="text/javascript")
                    script(src="/js/libs/angular/angular-translate/angular-translate-loader-static-files/angular-translate-loader-static-files.min.js", type="text/javascript")
                    script(src="/js/libs/angular/angular-translate/angular-translate-handler-log/angular-translate-handler-log.min.js", type="text/javascript")
                    script(src="/js/libs/ua-parser/ua-parser.min.js", type="text/javascript")
                    script(src="/js/libs/angular/angular-underscore/angular-underscore.js", type="text/javascript")
                    script(src= (config.server.io_url + ':' + config.server.io_port + '/socket.io/socket.io.js'))
                    script(src='/js/app/main/app.js', type="text/javascript")
                    script(src='/js/app/main/controllers.js', type="text/javascript")
                    script(src='/js/app/common/config/config.js', type="text/javascript")
                    script(src='/js/app/common/services.js', type="text/javascript")